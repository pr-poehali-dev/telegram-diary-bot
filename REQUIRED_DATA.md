# ‚ö†Ô∏è –û–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ –¥–ª—è –∑–∞–ø—É—Å–∫–∞ –ï–∂–µ–¥–Ω–µ–≤–Ω–∏–∫–∞

## üìä –ß—Ç–æ –û–ë–Ø–ó–ê–¢–ï–õ–¨–ù–û –Ω—É–∂–Ω–æ —Å–æ–∑–¥–∞—Ç—å –≤ –ë–î

–ü–æ—Å–ª–µ –ø—Ä–∏–º–µ–Ω–µ–Ω–∏—è –º–∏–≥—Ä–∞—Ü–∏–π `MIGRATION_CREATE_TABLES.sql` –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ –∑–∞–ø–æ–ª–Ω–∏—Ç—å –º–∏–Ω–∏–º–∞–ª—å–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å–∏—Å—Ç–µ–º—ã.

---

## 1Ô∏è‚É£ –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å-–≤–ª–∞–¥–µ–ª–µ—Ü (users) - –û–ë–Ø–ó–ê–¢–ï–õ–¨–ù–û

**–ó–∞—á–µ–º**: –í—Å–µ –∑–∞–ø–∏—Å–∏, —É—Å–ª—É–≥–∏, –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –ø—Ä–∏–≤—è–∑–∞–Ω—ã –∫ –≤–ª–∞–¥–µ–ª—å—Ü—É (owner).

```sql
INSERT INTO users (telegram_id, role, name, phone, email, created_at)
VALUES (123456789, 'owner', '–ò–º—è –§–∞–º–∏–ª–∏—è', '+79001234567', 'owner@example.com', CURRENT_TIMESTAMP);
```

**–ó–∞–º–µ–Ω–∏—Ç–µ**:
- `123456789` ‚Üí —É–Ω–∏–∫–∞–ª—å–Ω—ã–π ID (–º–æ–∂–Ω–æ –ª—é–±–æ–µ –±–æ–ª—å—à–æ–µ —á–∏—Å–ª–æ)
- `'–ò–º—è –§–∞–º–∏–ª–∏—è'` ‚Üí —Ä–µ–∞–ª—å–Ω–æ–µ –∏–º—è –≤–ª–∞–¥–µ–ª—å—Ü–∞
- `'+79001234567'` ‚Üí —Ç–µ–ª–µ—Ñ–æ–Ω –≤–ª–∞–¥–µ–ª—å—Ü–∞
- `'owner@example.com'` ‚Üí email –≤–ª–∞–¥–µ–ª—å—Ü–∞

**–ü–æ—Å–ª–µ —Å–æ–∑–¥–∞–Ω–∏—è –∑–∞–ø–æ–º–Ω–∏—Ç–µ ID –≤–ª–∞–¥–µ–ª—å—Ü–∞** (–æ–±—ã—á–Ω–æ 1):
```sql
SELECT id FROM users WHERE role = 'owner';
```

---

## 2Ô∏è‚É£ –£—Å–ª—É–≥–∏ (services) - –û–ë–Ø–ó–ê–¢–ï–õ–¨–ù–û

**–ó–∞—á–µ–º**: –ë–µ–∑ —É—Å–ª—É–≥ –Ω–µ–ª—å–∑—è —Å–æ–∑–¥–∞–≤–∞—Ç—å –∑–∞–ø–∏—Å–∏.

```sql
INSERT INTO services (owner_id, name, duration_minutes, price, active, created_at)
VALUES 
  (1, 'Access Bars —Å–µ–∞–Ω—Å', 60, 3000, true, CURRENT_TIMESTAMP),
  (1, '–ö–æ–Ω—Å—É–ª—å—Ç–∞—Ü–∏—è', 30, 1500, true, CURRENT_TIMESTAMP);
```

**–ó–∞–º–µ–Ω–∏—Ç–µ**:
- `owner_id = 1` ‚Üí ID –≤–∞—à–µ–≥–æ –≤–ª–∞–¥–µ–ª—å—Ü–∞
- –ù–∞–∑–≤–∞–Ω–∏—è —É—Å–ª—É–≥ –Ω–∞ —Ä–µ–∞–ª—å–Ω—ã–µ
- `duration_minutes` ‚Üí –¥–ª–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å –≤ –º–∏–Ω—É—Ç–∞—Ö
- `price` ‚Üí —Ü–µ–Ω—É –≤ —Ä—É–±–ª—è—Ö

**–ú–∏–Ω–∏–º—É–º**: –°–æ–∑–¥–∞–π—Ç–µ —Ö–æ—Ç—è –±—ã 1 —É—Å–ª—É–≥—É!

---

## 3Ô∏è‚É£ –ù–∞—Å—Ç—Ä–æ–π–∫–∏ (settings) - –û–ü–¶–ò–û–ù–ê–õ–¨–ù–û (–Ω–æ —Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è)

**–ó–∞—á–µ–º**: –û–ø—Ä–µ–¥–µ–ª—è—é—Ç —Ä–∞–±–æ—á–µ–µ –≤—Ä–µ–º—è, –∏–Ω—Ç–µ—Ä–≤–∞–ª—ã –∑–∞–ø–∏—Å–µ–π –∏ —Ç.–¥.

```sql
INSERT INTO settings (owner_id, key, value)
VALUES 
  (1, 'work_start_time', '09:00'),
  (1, 'work_end_time', '20:00'),
  (1, 'booking_interval_minutes', '30');
```

**–ö–ª—é—á–∏ –Ω–∞—Å—Ç—Ä–æ–µ–∫**:
- `work_start_time` - –Ω–∞—á–∞–ª–æ —Ä–∞–±–æ—á–µ–≥–æ –¥–Ω—è (—Ñ–æ—Ä–º–∞—Ç HH:MM)
- `work_end_time` - –∫–æ–Ω–µ—Ü —Ä–∞–±–æ—á–µ–≥–æ –¥–Ω—è (—Ñ–æ—Ä–º–∞—Ç HH:MM)
- `booking_interval_minutes` - –∏–Ω—Ç–µ—Ä–≤–∞–ª –º–µ–∂–¥—É –∑–∞–ø–∏—Å—è–º–∏ (–º–∏–Ω—É—Ç—ã)
- `max_bookings_per_day` - –º–∞–∫—Å. –∑–∞–ø–∏—Å–µ–π –≤ –¥–µ–Ω—å (—á–∏—Å–ª–æ)
- `booking_buffer_minutes` - –±—É—Ñ–µ—Ä –º–µ–∂–¥—É –∑–∞–ø–∏—Å—è–º–∏ (–º–∏–Ω—É—Ç—ã)

**–ï—Å–ª–∏ –Ω–µ —Å–æ–∑–¥–∞–≤–∞—Ç—å**: –°–∏—Å—Ç–µ–º–∞ –±—É–¥–µ—Ç —Ä–∞–±–æ—Ç–∞—Ç—å, –Ω–æ –±–µ–∑ –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–π.

---

## 4Ô∏è‚É£ –ö–ª–∏–µ–Ω—Ç—ã (clients) - –ù–ï –û–ë–Ø–ó–ê–¢–ï–õ–¨–ù–û

**–ó–∞—á–µ–º**: –ö–ª–∏–µ–Ω—Ç—ã —Å–æ–∑–¥–∞—é—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø—Ä–∏ –ø–µ—Ä–≤–æ–π –∑–∞–ø–∏—Å–∏ —á–µ—Ä–µ–∑ `BookingForm`.

–ù–æ –º–æ–∂–Ω–æ —Å–æ–∑–¥–∞—Ç—å –≤—Ä—É—á–Ω—É—é –¥–ª—è —Ç–µ—Å—Ç–∞:

```sql
-- –°–Ω–∞—á–∞–ª–∞ —Å–æ–∑–¥–∞—Ç—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è-–∫–ª–∏–µ–Ω—Ç–∞
INSERT INTO users (telegram_id, role, name, phone, email, created_at)
VALUES (987654321, 'client', '–ò–≤–∞–Ω –ò–≤–∞–Ω–æ–≤', '+79009876543', 'ivan@test.ru', CURRENT_TIMESTAMP);

-- –ó–∞—Ç–µ–º –¥–æ–±–∞–≤–∏—Ç—å –≤ —Ç–∞–±–ª–∏—Ü—É clients
INSERT INTO clients (user_id, owner_id, total_visits, created_at)
VALUES (2, 1, 0, CURRENT_TIMESTAMP);
```

**–ù–µ –æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ**: –ö–ª–∏–µ–Ω—Ç—ã –ø–æ—è–≤—è—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø—Ä–∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–∏.

---

## 5Ô∏è‚É£ –¢–µ—Å—Ç–æ–≤–∞—è –∑–∞–ø–∏—Å—å (bookings) - –ù–ï –û–ë–Ø–ó–ê–¢–ï–õ–¨–ù–û

**–ó–∞—á–µ–º**: –ü—Ä–æ–≤–µ—Ä–∏—Ç—å, —á—Ç–æ –≤—Å—ë —Ä–∞–±–æ—Ç–∞–µ—Ç.

```sql
INSERT INTO bookings (client_id, service_id, owner_id, booking_date, start_time, end_time, status, created_at)
VALUES (1, 1, 1, CURRENT_DATE, '10:00:00', '11:00:00', 'confirmed', CURRENT_TIMESTAMP);
```

**–ó–∞–º–µ–Ω–∏—Ç–µ**:
- `client_id = 1` ‚Üí ID —Å—É—â–µ—Å—Ç–≤—É—é—â–µ–≥–æ –∫–ª–∏–µ–Ω—Ç–∞
- `service_id = 1` ‚Üí ID —Å—É—â–µ—Å—Ç–≤—É—é—â–µ–π —É—Å–ª—É–≥–∏
- `owner_id = 1` ‚Üí ID –≤–ª–∞–¥–µ–ª—å—Ü–∞
- –î–∞—Ç—É/–≤—Ä–µ–º—è –Ω–∞ –Ω—É–∂–Ω—ã–µ

**–ù–µ –æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ**: –ó–∞–ø–∏—Å–∏ –ø–æ—è–≤—è—Ç—Å—è –ø—Ä–∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–∏ –∫–∞–ª–µ–Ω–¥–∞—Ä—è.

---

## 6Ô∏è‚É£ –†–∞—Å–ø–∏—Å–∞–Ω–∏–µ —É—á—ë–±—ã (week_schedule) - –ù–ï –û–ë–Ø–ó–ê–¢–ï–õ–¨–ù–û

**–ó–∞—á–µ–º**: –ü–æ–∫–∞–∑—ã–≤–∞–µ—Ç –∑–∞–Ω—è—Ç–æ—Å—Ç—å –≤–ª–∞–¥–µ–ª—å—Ü–∞ (—É—á—ë–±–∞, —Ä–∞–±–æ—Ç–∞ –∏ —Ç.–¥.).

–°–æ–∑–¥–∞—ë—Ç—Å—è —á–µ—Ä–µ–∑ UI –∫–∞–ª–µ–Ω–¥–∞—Ä—è (–∫–Ω–æ–ø–∫–∞ "üéì").

**–ù–µ –æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ**: –ú–æ–∂–Ω–æ –Ω–µ —Å–æ–∑–¥–∞–≤–∞—Ç—å, –µ—Å–ª–∏ –Ω–µ –Ω—É–∂–Ω–æ.

---

## 7Ô∏è‚É£ –ú–µ—Ä–æ–ø—Ä–∏—è—Ç–∏—è (calendar_events) - –ù–ï –û–ë–Ø–ó–ê–¢–ï–õ–¨–ù–û

**–ó–∞—á–µ–º**: –õ–∏—á–Ω—ã–µ –º–µ—Ä–æ–ø—Ä–∏—è—Ç–∏—è –≤–ª–∞–¥–µ–ª—å—Ü–∞ (–¥–Ω–∏ —Ä–æ–∂–¥–µ–Ω–∏—è, –≤—Å—Ç—Ä–µ—á–∏ –∏ —Ç.–¥.).

–°–æ–∑–¥–∞—é—Ç—Å—è —á–µ—Ä–µ–∑ UI –∫–∞–ª–µ–Ω–¥–∞—Ä—è.

**–ù–µ –æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ**: –ú–æ–∂–Ω–æ –Ω–µ —Å–æ–∑–¥–∞–≤–∞—Ç—å.

---

## 8Ô∏è‚É£ –ó–∞–±–ª–æ–∫–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –¥–∞—Ç—ã (blocked_dates) - –ù–ï –û–ë–Ø–ó–ê–¢–ï–õ–¨–ù–û

**–ó–∞—á–µ–º**: –ë–ª–æ–∫–∏—Ä–æ–≤–∫–∞ –¥–∞—Ç (–æ—Ç–ø—É—Å–∫, –≤—ã—Ö–æ–¥–Ω—ã–µ –∏ —Ç.–¥.).

–°–æ–∑–¥–∞—é—Ç—Å—è —á–µ—Ä–µ–∑ UI –∫–∞–ª–µ–Ω–¥–∞—Ä—è.

**–ù–µ –æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ**: –ú–æ–∂–Ω–æ –Ω–µ —Å–æ–∑–¥–∞–≤–∞—Ç—å.

---

## ‚úÖ –ú–∏–Ω–∏–º–∞–ª—å–Ω—ã–π –Ω–∞–±–æ—Ä –¥–ª—è –∑–∞–ø—É—Å–∫–∞

**–¢–æ–ª—å–∫–æ —ç—Ç–æ –û–ë–Ø–ó–ê–¢–ï–õ–¨–ù–û**:

1. ‚úÖ **1 –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å-–≤–ª–∞–¥–µ–ª–µ—Ü** (users, role='owner')
2. ‚úÖ **1-2 —É—Å–ª—É–≥–∏** (services)

**–í—Å—ë –æ—Å—Ç–∞–ª—å–Ω–æ–µ –æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ!**

---

## üîç –ü—Ä–æ–≤–µ—Ä–∫–∞ –¥–∞–Ω–Ω—ã—Ö

–ü–æ—Å–ª–µ —Å–æ–∑–¥–∞–Ω–∏—è –≤—ã–ø–æ–ª–Ω–∏—Ç–µ:

```sql
-- –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –≤–ª–∞–¥–µ–ª—å—Ü–∞
SELECT * FROM users WHERE role = 'owner';

-- –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —É—Å–ª—É–≥–∏
SELECT * FROM services WHERE owner_id = 1;

-- –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –Ω–∞—Å—Ç—Ä–æ–π–∫–∏
SELECT * FROM settings WHERE owner_id = 1;
```

–ï—Å–ª–∏ –µ—Å—Ç—å –≤–ª–∞–¥–µ–ª–µ—Ü –∏ —É—Å–ª—É–≥–∏ ‚Üí **—Å–∏—Å—Ç–µ–º–∞ –≥–æ—Ç–æ–≤–∞ –∫ —Ä–∞–±–æ—Ç–µ**! üöÄ

---

## üìù –ü—Ä–∏–º–µ—á–∞–Ω–∏—è

- –í—Å–µ `owner_id` –¥–æ–ª–∂–Ω—ã —Å–æ–≤–ø–∞–¥–∞—Ç—å —Å ID –≤–ª–∞–¥–µ–ª—å—Ü–∞ –∏–∑ —Ç–∞–±–ª–∏—Ü—ã `users`
- `telegram_id` –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å —É–Ω–∏–∫–∞–ª—å–Ω—ã–º –¥–ª—è –∫–∞–∂–¥–æ–≥–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
- –î–∞—Ç—ã –≤ —Ñ–æ—Ä–º–∞—Ç–µ `YYYY-MM-DD`, –≤—Ä–µ–º—è –≤ —Ñ–æ—Ä–º–∞—Ç–µ `HH:MM:SS`
- –°—Ç–∞—Ç—É—Å—ã –∑–∞–ø–∏—Å–µ–π: `'pending'`, `'confirmed'`, `'cancelled'`, `'completed'`

---

## üéØ –ì–æ—Ç–æ–≤–æ!

–ü–æ—Å–ª–µ —Å–æ–∑–¥–∞–Ω–∏—è –º–∏–Ω–∏–º–∞–ª—å–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö –º–æ–∂–Ω–æ:
- –û—Ç–∫—Ä—ã—Ç—å –∫–∞–ª–µ–Ω–¥–∞—Ä—å –Ω–∞ `/admin/schedule`
- –°–æ–∑–¥–∞–≤–∞—Ç—å –∑–∞–ø–∏—Å–∏ —á–µ—Ä–µ–∑ `BookingForm`
- –£–ø—Ä–∞–≤–ª—è—Ç—å —Ä–∞—Å–ø–∏—Å–∞–Ω–∏–µ–º —á–µ—Ä–µ–∑ UI
